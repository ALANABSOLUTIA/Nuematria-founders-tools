<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>NUEMATRIA™ — Founder Tools Edition 1 — Soul Map / Life Blueprint</title>
<style>
  :root{
    --bg:#0d0526; /* deep cosmic indigo */
    --card:#120829;
    --accent:#b98af3; /* violet gold-ish */
    --gold:#d4af37;
    --muted:#bdb7d9;
    --glass: rgba(255,255,255,0.04);
    --success:#6be7c5;
  }
  html,body{height:100%;margin:0;background:linear-gradient(180deg,var(--bg),#060316);font-family:Inter,ui-sans-serif,system-ui,Arial,Helvetica,sans-serif;color:var(--muted);}
  .wrap{max-width:1100px;margin:28px auto;padding:20px;}
  header{display:flex;gap:16px;align-items:center;margin-bottom:18px}
  .logo{width:80px;height:80px;border-radius:12px;background:linear-gradient(135deg,var(--accent),var(--gold));display:flex;align-items:center;justify-content:center;color:#081024;font-weight:800;font-size:18px;box-shadow:0 6px 24px rgba(0,0,0,0.6)}
  h1{margin:0;font-size:20px;color:var(--accent)}
  p.lead{margin:4px 0 0;color:#dcd6ffcc}
  .grid{display:grid;grid-template-columns:360px 1fr;gap:18px}
  .card{background:var(--card);border-radius:12px;padding:16px;box-shadow:0 6px 30px rgba(0,0,0,0.6);border:1px solid rgba(255,255,255,0.03)}
  label{display:block;font-size:12px;color:#bfb6f1;margin-bottom:6px}
  input[type="text"], input[type="date"], select{width:100%;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.03);background:var(--glass);color:var(--muted);font-size:14px}
  .btn{display:inline-flex;align-items:center;gap:8px;padding:10px 14px;border-radius:10px;background:linear-gradient(90deg,var(--accent),var(--gold));color:#061024;border:none;cursor:pointer;font-weight:700;box-shadow:0 8px 24px rgba(0,0,0,0.6)}
  .btn.ghost{background:transparent;border:1px solid rgba(255,255,255,0.04);color:var(--muted)}
  .small{font-size:12px;color:#9f98c8}
  .section-title{font-weight:700;color:var(--accent);margin-bottom:10px}
  .output{white-space:pre-wrap;font-family:ui-monospace,monospace;background:linear-gradient(180deg,rgba(255,255,255,0.01),transparent);padding:14px;border-radius:10px;color:#e7e3ff}
  .pill{display:inline-block;padding:6px 10px;border-radius:999px;background:rgba(255,255,255,0.03);color:var(--muted);font-weight:700;margin-right:8px;margin-bottom:8px}
  .row{display:flex;gap:12px;flex-wrap:wrap;align-items:center}
  footer{margin-top:18px;color:#9f98c8;font-size:12px}
  .muted-box{background:rgba(255,255,255,0.02);padding:10px;border-radius:8px;color:#bfb6f1}
  .hero-sample{display:flex;gap:8px;flex-wrap:wrap;margin-top:12px}
  .meta{display:flex;gap:12px;align-items:center;flex-wrap:wrap}
  .label-strong{color:var(--gold);font-weight:800}
  /* responsive */
  @media (max-width:900px){
    .grid{grid-template-columns:1fr; }
  }/* === NUEMATRIA™ FRAME OVERRIDE — WHITE BACKGROUND ONLY === */

  /* Page/frame background override (keeps founder UI white within embed if needed) */
  /* Note: I left the overall dark theme intact for Founder Tools; keep these commented unless you need a white frame */
  /*
  html, body {
    background: #ffffff !important;
  }
  #app, .container, .wrapper {
    background: #ffffff !important;
  }
  */
</style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="logo">NUEMATRIA™</div>
      <div>
        <h1>Founder Tools — <span style="color:var(--gold)">Soul Map / Life Blueprint</span> (Edition 1)</h1>
        <p class="lead">Private Founder suite. Build, test, refine. Use Test Profiles for continuity checks. Save PDF for client use.</p>
      </div>
    </header>

    <div class="grid">
      <!-- left panel: inputs -->
      <div class="card">
        <div class="section-title">Input</div>

        <label>Full Name (as you publish it)</label>
        <input id="inputName" type="text" placeholder="Alan Parks" value="Alan Parks">

        <label style="margin-top:10px">Birthdate</label>
        <input id="inputBday" type="date" value="1970-12-18">

        <div style="margin-top:12px;">
          <label class="small">Test Profiles</label>
          <select id="testProfiles">
            <option value="">-- select sample --</option>
            <option value="alan">Alan Parks (Founder)</option>
            <option value="fiction1">Victor Ray (1570 - Fictional)</option>
            <option value="famous1">Barack Obama (Public test)</option>
            <option value="famous2">Beyoncé (Public test)</option>
            <option value="famous3">Elon Musk (Public test)</option>
            <option value="fiction2">Starah of Atlantis (Mythic sample)</option>
          </select>
        </div>

        <div style="margin-top:14px;" class="row">
          <button class="btn" id="btnGenerate">Generate Soul Map</button>
          <button class="btn ghost" id="btnClear">Clear</button>
          <button class="btn ghost" id="btnPrint">Print / Save PDF</button>
        </div>

        <div style="margin-top:12px" class="small muted-box">
          <div><strong>Founders Note:</strong> This file is Founder Tools Edition 1. Use privately. All Nuematria™ protocols embedded for testing.</div>
        </div>

        <div style="margin-top:12px">
          <div class="section-title">Quick Legend</div>
          <div class="pill">Pythagorean</div><span class="small">Core archetype number</span><br/>
          <div class="pill">Chaldean</div><span class="small">Energetic layer</span><br/>
          <div class="pill">Ordinal</div><span class="small">Power magnitude</span>
        </div>
      </div>

      <!-- right panel: outputs -->
      <div class="card">
        <div style="display:flex;justify-content:space-between;align-items:center">
          <div>
            <div class="section-title">Soul Map Output</div>
            <div class="small">Nuematria™ Founder Tools — private edition</div>
          </div>
          <div class="meta">
            <div class="label-strong" id="metaName">—</div>
            <div class="small" id="metaNums">—</div>
          </div>
        </div>

        <div style="margin-top:12px">
          <div class="section-title">Core Numbers</div>
          <div class="row" id="coreNumbersBox"></div>
        </div>

        <div style="margin-top:12px">
          <div class="section-title">Celestial Blueprint</div>
          <div class="output" id="celestialOut">No reading yet.</div>
        </div>

        <div style="margin-top:12px">
          <div class="section-title">Soul's Fire</div>
          <div class="output" id="fireOut">No reading yet.</div>
        </div>

        <div style="margin-top:12px">
          <div class="section-title">Radiant Signature</div>
          <div class="output" id="radiantOut">No reading yet.</div>
        </div>

        <div style="margin-top:12px">
          <div class="section-title">Missing Channels & Activation</div>
          <div id="channelsOut" class="output">No reading yet.</div>
        </div>

        <div style="margin-top:12px">
          <div class="section-title">Developer / Test Tools</div>
          <div class="small">Quick Mock Profiles & consistency checks</div>
          <div class="hero-sample">
            <button class="btn ghost" onclick="runSample('alan')">Run Alan</button>
            <button class="btn ghost" onclick="runSample('fiction1')">Victor Ray</button>
            <button class="btn ghost" onclick="runSample('famous1')">Obama</button>
            <button class="btn ghost" onclick="runSample('famous2')">Beyoncé</button>
            <button class="btn ghost" onclick="runSample('fiction2')">Starah</button>
          </div>
        </div>

      </div>
    </div>

    <footer>
      <div>Nuematria™ • Founder Tools Edition 1 • Private</div>
      <div style="margin-top:8px;color:#8f85bd">Tip: Use Print → Save as PDF to export Booklet to send to clients. This prototype is for testing and early client reads.</div>
    </footer>
  </div>

<script>
/* -------------------------
   Nuematria Data (canonical arrays)
   Founder Tools Edition 1 — embedded JSON
   ------------------------- */
const NUEMATRIA_MASTER_ARCHETYPES = {
  "11": { title: "Master Intuitive", role: "Spiritual Messenger", traits: ["Visionary","Bridge Between Worlds","Revealer"], shadow:["Overload","Isolation","Misunderstood"], gift:"Illumination" },
  "22": { title: "Master Builder", role: "Divine Architect", traits:["Manifestation","Systems","Blueprints"], shadow:["Perfectionism"], gift:"Construction of Reality" },
  "33": { title: "Master Teacher", role: "Emotional Healer", traits:["Compassion","Service","Healing"], shadow:["Self-sacrifice"], gift:"Heart Awakening" }
};

const NUEMATRIA_BASE_ARCHETYPES = {
  "1": { archetype:"Initiator", energy:"Leadership, Independence", shadow:"Isolation", ignition:"Self-belief" },
  "2": { archetype:"Mirror", energy:"Union, Harmony", shadow:"Co-dependence", ignition:"Clarity" },
  "3": { archetype:"Creator", energy:"Expression, Joy", shadow:"Scattered", ignition:"Structure" },
  "4": { archetype:"Stabilizer", energy:"Foundation, Order", shadow:"Rigidity", ignition:"Flexibility" },
  "5": { archetype:"Changer", energy:"Freedom, Adventure", shadow:"Chaos", ignition:"Discipline" },
  "6": { archetype:"Harmonizer", energy:"Service, Healing", shadow:"Over-care", ignition:"Boundaries" },
  "7": { archetype:"Seeker", energy:"Wisdom, Depth", shadow:"Withdrawal", ignition:"Connection" },
  "8": { archetype:"Power", energy:"Authority, Manifestation", shadow:"Control", ignition:"Humility" },
  "9": { archetype:"Sage", energy:"Completion, Humanity", shadow:"Martyrdom", ignition:"Vision" }
};

const NUEMATRIA_SOUL_FIRE = {
  1: { drive:"Initiation", wound:"Rejection", key:"Self-Authority" },
  2: { drive:"Union", wound:"Abandonment", key:"Emotional Clarity" },
  3: { drive:"Expression", wound:"Being Silenced", key:"Creative Channeling" },
  4: { drive:"Stability", wound:"Insecurity", key:"Root Strength" },
  5: { drive:"Experience", wound:"Restriction", key:"Disciplined Freedom" },
  6: { drive:"Healing", wound:"Unworthiness", key:"Self-Value" },
  7: { drive:"Search", wound:"Alienation", key:"Connection" },
  8: { drive:"Mastery", wound:"Disempowerment", key:"Inner Throne" },
  9: { drive:"Service", wound:"Loss", key:"Transmutation" }
};

const NUEMATRIA_RADIANT_SIGNATURE = {
  "1": { aura:"Red Flame", impact:"Assertive", challenge:"Aggression" },
  "2": { aura:"Silver Mirror", impact:"Diplomatic", challenge:"Unclear Boundaries" },
  "3": { aura:"Golden Spark", impact:"Magnetic", challenge:"Inconsistency" },
  "4": { aura:"Granite Field", impact:"Reliable", challenge:"Rigidity" },
  "5": { aura:"Electric Blue", impact:"Unpredictable", challenge:"Instability" },
  "6": { aura:"Emerald Heart", impact:"Comforting", challenge:"Overgiving" },
  "7": { aura:"Indigo Mist", impact:"Mysterious", challenge:"Detached" },
  "8": { aura:"Black Gold", impact:"Commanding", challenge:"Intensity" },
  "9": { aura:"Violet Wave", impact:"Transformative", challenge:"Over-empathy" },
  "11": { aura:"Electric Indigo", impact:"Prophetic", challenge:"Overload" },
  "22": { aura:"Platinum Grid", impact:"Architectural", challenge:"Pressure" },
  "33": { aura:"Rose-Gold Flame", impact:"Healing", challenge:"Burnout" }
};

const NUEMATRIA_MISSING_CHANNELS = {
  lowSocial: [10,19,28,37,46,55,64,73,82,91],
  lowMiddleAge: [14,23,32,41,50,59,68,77,86,95],
  lowExpression: [12,21,30,39,48,57,66,75,84,93]
};

const ACTIVATION_YEARS = [2025,2026,2027,2028];

/* -------------------------
   Letter maps
   Pythagorean: 1..9 repeating
   Chaldean: specific mapping
   Ordinal: A=1..Z=26
   ------------------------- */
const PYTH_MAP = {
  A:1,B:2,C:3,D:4,E:5,F:6,G:7,H:8,I:9,
  J:1,K:2,L:3,M:4,N:5,O:6,P:7,Q:8,R:9,
  S:1,T:2,U:3,V:4,W:5,X:6,Y:7,Z:8
};

const CHALDEAN_MAP = {
  A:1,B:2,C:3,D:4,E:5,F:8,G:3,H:5,I:1,J:1,K:2,L:3,M:4,N:5,O:7,P:8,Q:1,R:2,S:3,T:4,U:6,V:6,W:6,X:5,Y:1,Z:7
};

/* -------------------------
   Helpers
   ------------------------- */
function cleanName(n){ return (n||"").toUpperCase().replace(/[^A-Z]/g,''); }
function sumDigits(n){
  n = Math.abs(Math.floor(n));
  while(n>9 && n!==11 && n!==22 && n!==33){
    let s = 0; while(n>0){ s += n%10; n = Math.floor(n/10); } n = s;
  }
  return n;
}
function reducePreserveMasters(n){
  if(n===11||n===22||n===33) return n;
  return sumDigits(n);
}

/* calculation funcs */
function calcPythagorean(name){
  const s = cleanName(name);
  let total = 0;
  for(let ch of s) total += (PYTH_MAP[ch]||0);
  return { raw: total, reduced: reducePreserveMasters(total) };
}
function calcChaldean(name){
  const s = cleanName(name);
  let total=0;
  for(let ch of s) total += (CHALDEAN_MAP[ch]||0);
  return { raw: total, reduced: reducePreserveMasters(total) };
}
function calcOrdinal(name){
  const s = cleanName(name);
  let total=0;
  for(let ch of s) total += (ch.charCodeAt(0)-64);
  return { raw: total, reduced: reducePreserveMasters(total) };
}

/* NEW: Life Path from birthdate (YYYY-MM-DD) */
function calcLifePath(bday){
  if(!bday || typeof bday !== 'string' || bday.length < 6) {
    return { raw: 0, reduced: 0 };
  }
  // extract digits only
  const digits = bday.replace(/[^0-9]/g, '');
  let total = 0;
  for(let ch of digits) total += Number(ch);
  return { raw: total, reduced: reducePreserveMasters(total) };
}

/* Archetype engine */
function getArchetypeFromPyth(n){
  n = String(n);
  if(NUEMATRIA_MASTER_ARCHETYPES[n]) return NUEMATRIA_MASTER_ARCHETYPES[n];
  if(NUEMATRIA_BASE_ARCHETYPES[n]) return { title: NUEMATRIA_BASE_ARCHETYPES[n].archetype, role: NUEMATRIA_BASE_ARCHETYPES[n].energy, traits: [], shadow: [NUEMATRIA_BASE_ARCHETYPES[n].shadow], gift: NUEMATRIA_BASE_ARCHETYPES[n].ignition };
  return { title:"Unknown", role:"Unknown", traits:[], shadow:[], gift:"" };
}

/* Celestial Blueprint (name-based: pythagorean + ordinal checks) */
function generateCelestialBlueprint({pyth, chald, ordinal}){
  const arche = getArchetypeFromPyth(pyth.reduced);
  let missing = [];
  if(NUEMATRIA_MISSING_CHANNELS.lowSocial.includes(ordinal.raw)) missing.push("Social Flow");
  if(NUEMATRIA_MISSING_CHANNELS.lowMiddleAge.includes(ordinal.raw)) missing.push("Middle Age Activation");
  if(NUEMATRIA_MISSING_CHANNELS.lowExpression.includes(ordinal.raw)) missing.push("Expression Gateway");
  return {
    blueprintNumber: pyth.reduced,
    archetypeTitle: arche.title,
    mission: arche.role || arche.title,
    traits: arche.traits || [],
    shadow: arche.shadow || [],
    gift: arche.gift || "",
    missingChannels: missing,
    activationYears: ACTIVATION_YEARS
  };
}

/* Soul's Fire
   --- now uses Life Path (birthdate-derived) for a distinct signal
*/
function generateSoulsFire({lifePath}){
  // lifePath.reduced is preserved masters or reduced 1-9
  const fireNum = lifePath.reduced || 0;
  const fireData = NUEMATRIA_SOUL_FIRE[fireNum] || { drive:"Unknown", wound:"Unknown", key:"Unknown" };
  return {
    fireCore: fireNum,
    drive: fireData.drive,
    wound: fireData.wound,
    ignitionKey: fireData.key
  };
}

/* Radiant Signature (still name/pyth-based) */
function generateRadiantSignature({pyth}){
  const key = String(pyth.reduced);
  const rs = NUEMATRIA_RADIANT_SIGNATURE[key] || { aura:"Unknown", impact:"Unknown", challenge:"Unknown" };
  const arche = getArchetypeFromPyth(pyth.reduced);
  return {
    signatureNumber: pyth.reduced,
    expression: arche.title || arche.archetype || "Unknown",
    aura: rs.aura,
    socialImpact: rs.impact,
    challenge: rs.challenge,
    strengths: arche.traits || [],
    projectionAdvice: "Stay grounded; speak in simple terms."
  };
}

/* ----------------------------------------------------
   Output rendering and UI wiring
   ---------------------------------------------------- */
const inputName = document.getElementById('inputName');
const inputBday = document.getElementById('inputBday');
const btnGenerate = document.getElementById('btnGenerate');
const coreBox = document.getElementById('coreNumbersBox');
const celestialOut = document.getElementById('celestialOut');
const fireOut = document.getElementById('fireOut');
const radiantOut = document.getElementById('radiantOut');
const channelsOut = document.getElementById('channelsOut');
const metaName = document.getElementById('metaName');
const metaNums = document.getElementById('metaNums');
const testProfiles = document.getElementById('testProfiles');
const btnClear = document.getElementById('btnClear');
const btnPrint = document.getElementById('btnPrint');

btnGenerate.onclick = ()=> runProfile({name: inputName.value, bday: inputBday.value});
btnClear.onclick = ()=> { inputName.value=''; inputBday.value=''; clearOutput(); }
btnPrint.onclick = ()=> { window.print(); }
testProfiles.onchange = ()=> {
  const v = testProfiles.value;
  if(!v) return;
  runSample(v);
  testProfiles.value='';
}

/* sample profiles for mock-testing */
const SAMPLE_PROFILES = {
  alan: { name: "Alan Parks", bday: "1970-12-18" },
  fiction1: { name: "Victor Ray", bday: "1570-11-25" },
  famous1: { name: "Barack Obama", bday: "1961-08-04" },
  famous2: { name: "Beyonce Knowles", bday: "1981-09-04" },
  famous3: { name: "Elon Musk", bday: "1971-06-28" },
  fiction2: { name: "Starah Atlantis", bday: "1979-06-21" } /* mythic placeholder */
};

function runSample(key){
  const p = SAMPLE_PROFILES[key];
  if(!p) return;
  inputName.value = p.name;
  inputBday.value = p.bday || '';
  runProfile({name: inputName.value, bday: inputBday.value});
}

/* clear outputs */
function clearOutput(){
  coreBox.innerHTML=''; celestialOut.textContent='No reading yet.'; fireOut.textContent='No reading yet.'; radiantOut.textContent='No reading yet.'; channelsOut.textContent='No reading yet.'; metaName.textContent='—'; metaNums.textContent='—';
}

/* run a profile */
function runProfile({name, bday}){
  if(!name || name.trim().length<1){ alert('Please enter a full name.'); return; }

  // calculations
  const pyth = calcPythagorean(name);
  const chald = calcChaldean(name);
  const ord = calcOrdinal(name);
  const lifePath = calcLifePath(bday);

  // build outputs
  metaName.textContent = name;
  metaNums.textContent = `Pyth:${pyth.reduced} Ch:${chald.reduced} Ord:${ord.reduced} LP:${lifePath.reduced}`;

  coreBox.innerHTML = `
    <div class="pill">Pythagorean: ${pyth.raw} → ${pyth.reduced}</div>
    <div class="pill">Chaldean: ${chald.raw} → ${chald.reduced}</div>
    <div class="pill">Ordinal: ${ord.raw} → ${ord.reduced}</div>
    <div class="pill">LifePath: ${lifePath.raw} → ${lifePath.reduced}</div>
  `;

  const celestial = generateCelestialBlueprint({pyth, chald, ordinal: ord});
  const fire = generateSoulsFire({lifePath});
  const radiant = generateRadiantSignature({pyth});

  // Celestial text
  celestialOut.textContent = `${name} — Celestial Blueprint
Blueprint Number: ${celestial.blueprintNumber}
Archetype: ${celestial.archetypeTitle}
Mission (core role): ${celestial.mission}
Traits: ${celestial.traits.join(', ') || '—'}
Shadow notes: ${celestial.shadow.join(', ') || '—'}
Gift: ${celestial.gift || '—'}
Missing Channels: ${celestial.missingChannels.length ? celestial.missingChannels.join(', ') : 'None detected'}
Activation Years: ${celestial.activationYears.join(', ')}`;

  // Soul's Fire text (now life-path driven)
  fireOut.textContent = `${name} — Soul's Fire (Life Path)
Core Fire Number: ${fire.fireCore || '—'}
Drive: ${fire.drive}
Primary Wound: ${fire.wound}
Ignition Key (how to activate): ${fire.ignitionKey}`;

  // Radiant
  radiantOut.textContent = `${name} — Radiant Signature
Signature Number: ${radiant.signatureNumber}
Expression (outer archetype): ${radiant.expression}
Aura: ${radiant.aura}
Social Impact: ${radiant.socialImpact}
Challenges: ${radiant.challenge}
Strengths: ${radiant.strengths.join(', ') || '—'}
Projection Advice: ${radiant.projectionAdvice}`;

  // channels
  channelsOut.textContent = `Missing channels: ${celestial.missingChannels.length?celestial.missingChannels.join(', '):'None'}
Activation window (founder forecast): ${celestial.activationYears.join(', ')}
Power Tier (Ordinal): ${ord.raw} → ${classifyOrdinal(ord.raw)}`;

  // run quick consistency checks (developer feedback)
  quickChecks({name, pyth, chald, ord, lifePath, celestial, fire, radiant});
}

/* classifies ordinal power tier */
function classifyOrdinal(ordRaw){
  if(ordRaw >= 300) return "Pantheon-Class (rare)";
  if(ordRaw >= 200) return "Avatar-Class";
  if(ordRaw >= 150) return "Mythic Hero";
  if(ordRaw >= 100) return "Major Archetype";
  return "Minor/Standard Archetype";
}

/* quickChecks prints minor console info for developer use */
function quickChecks(ctx){
  console.group("Nuematria QuickChecks");
  console.log("Input:", ctx.name);
  console.log("Pythagorean", ctx.pyth);
  console.log("Chaldean", ctx.chald);
  console.log("Ordinal", ctx.ord);
  console.log("LifePath", ctx.lifePath);
  console.log("Celestial:", ctx.celestial);
  console.log("Fire:", ctx.fire);
  console.log("Radiant:", ctx.radiant);
  console.groupEnd();
}

/* initialize with default */
document.addEventListener('DOMContentLoaded', ()=> {
  try {
    runProfile({ name: inputName.value, bday: inputBday.value });
  } catch (e) {
    console.error("Initialization error", e);
  }
});
</script>
</body>
</html>
